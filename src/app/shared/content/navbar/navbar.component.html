<div class="wrapper" *ngIf="DataUser$ | async as DataUser">
  <nav id="sidebar" class="d-flex flex-column">
    <div class="sidebar-header">
      <div class="logo-navbar"></div>
    </div>
    <ul class="lisst-unstyled components">
      <p class="text-title-menu">Sistema Integral Automtizado</p>
      <li>
        <a routerLinkActive="active" routerLink="/"
          ><img
            src="../assets/imgs/inicio.svg"
            class="alineadoTextoImagenCentro"
          />Inicio</a
        >
      </li>
      <li class="active">
        <a
          href="#administracion"
          class="dropdown-toggle"
          data-toggle="collapse"
          data-target="#administracion"
          aria-expanded="false"
          *ngIf="usuario.validarRolUsuario()"
        >
          <img
            src="../assets/imgs/administracion.svg"
            class="alineadoTextoImagenCentro"
          />
          Administraci칩n
        </a>
        <ul class="collapse lisst-unstyled" id="administracion">
          <li *ngIf="perfilValido(DataUser, [Administrador, Monitor, Soporte])">
            <a routerLinkActive="active" routerLink="/administracion/catalogos">
              <img
                src="../assets/imgs/icons/catalogo.svg"
                class="alineadoTextoImagenCentro"
              />
              Cat치logos</a
            >
          </li>
          <li *ngIf="perfilValido(DataUser, [Soporte])">
            <a routerLinkActive="active" routerLink="/administracion/usuarios">
              <img
                src="../assets/imgs/icons/usuarios.svg"
                class="alineadoTextoImagenCentro"
              />
              Usuarios</a
            >
          </li>
        </ul>
      </li>
      <li
        class="active"
        *ngIf="perfilValido(DataUser, [Administrador, Soporte])"
      >
        <a
          href="#auditoria"
          class="dropdown-toggle"
          data-toggle="collapse"
          data-target="#auditoria"
          aria-expanded="false"
          routerLink="/auditoria/"
        >
          <img
            src="../assets/imgs/auditoria.svg"
            class="alineadoTextoImagenCentro"
          />Auditoria
        </a>
        <ul class="collapse lisst-unstyled" id="auditoria">
          <li>
            <a routerLinkActive="active" routerLink="/auditoria/archivos">
              <img
                src="../assets/imgs/icons/archivos.svg"
                class="alineadoTextoImagenCentro"
              />
              Archivos</a
            >
          </li>
          <li>
            <a routerLinkActive="active" routerLink="/auditoria/catalogos">
              <img
                src="../assets/imgs/icons/catalogo.svg"
                class="alineadoTextoImagenCentro"
              />
              Cat치logos</a
            >
          </li>
          <li>
            <a routerLinkActive="active" routerLink="/auditoria/procesos">
              <img
                src="../assets/imgs/icons/procesos.svg"
                class="alineadoTextoImagenCentro"
              />
              Procesos</a
            >
          </li>
          <li>
            <a routerLinkActive="active" routerLink="/auditoria/usuarios">
              <img
                src="../assets/imgs/icons/usuarios.svg"
                class="alineadoTextoImagenCentro"
              />
              Usuarios</a
            >
          </li>
        </ul>
      </li>
      <li class="active" *ngIf="usuario.validarRolUsuario()">
        <a
          href="#procesos"
          class="dropdown-toggle"
          data-toggle="collapse"
          data-target="#procesos"
          aria-expanded="false"
        >
          <img
            src="../assets/imgs/procesos.svg"
            class="alineadoTextoImagenCentro"
          />Procesos
        </a>
        <ul class="collapse lisst-unstyled" id="procesos">
          <li>
            <a routerLinkActive="active" routerLink="/procesos/diurno">
              <img
                src="../assets/imgs/icons/sun.svg"
                class="alineadoTextoImagenCentro"
              />
              Diurnos</a
            >
          </li>
          <li>
            <a routerLinkActive="active" routerLink="/procesos/nocturno">
              <img
                src="../assets/imgs/icons/moon.svg"
                class="alineadoTextoImagenCentro"
              />
              Nocturnos</a
            >
          </li>
        </ul>
      </li>
      <li>
        <a (click)="signOut()" style="cursor: pointer"
          ><img
            src="../assets/imgs/cerrar-sesion.svg"
            class="alineadoTextoImagenCentro"
          />Cerrar sesi칩n</a
        >
      </li>
    </ul>
  </nav>
  <!-- INICIO  HEADER -->
  <div id="content">
    <nav
      id="headernav"
      *ngIf="Notificaciones$ | async as Notificaciones"
      class="
        margin-navbar-barra
        navbar navbar-expand-lg navbar-light
        bg-light
        navbar-fixed-top navbar-slide-nav
      "
    >
      <!-- ESTILO VERDE -->
      <div class="container-fluid" *ngIf="estiloVerde()">
        <button
          (click)="toggle()"
          type="button"
          id="siderCollapse"
          class="btn btn-light col-1"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="alineadoTextoIzquierda col-5">
          <div id="tabla">
            <div class="A"><img src="assets/icons/nav/inicio.svg" /></div>
            <div class="B">
              <p>
                <a
                  style="cursor: pointer"
                  *ngFor="let ruta of arrayRuta(); index as i"
                  (click)="irRutaDeStringRuta(i)"
                  >{{ ruta }}/</a
                >

                <span *ngIf="arrayRuta().length === 0" > Inicio</span>

              </p>
            </div>
          </div>
        </div>
        <div
          class="
            alineadoTextoDerecha
            col-3
            align-self-end
            texto-responsivo-usuario
          "
        >
          <div class="centrado">
            <strong
              ><b
                >{{ DataUser.attributes.given_name }}
                {{ DataUser.attributes.family_name }}</b
              ></strong
            >
            <div class="linea"></div>
            <p *ngIf="usuario.validarRolUsuario()">
              {{ obtenerArea() }} /
              {{
                DataUser.attributes.hasOwnProperty("custom:rol")
                  ? DataUser.attributes["custom:rol"]
                  : ""
              }}
            </p>
          </div>
        </div>
        <div class="col-2">
          <div
            style="background-color: #00c4d9"
            class="cuadroNotificaciones dropdown"
            id="dLabel"
            role="button"
            data-toggle="dropdown"
            data-target="#"
          >
            <img class="imagenNotificaciones" src="assets/icons/bell.png" />
            <span style="color: #00c4d9" *ngIf="Notificaciones.length > 0">{{
              Notificaciones.length
            }}</span>

            <ul
              class="dropdown-menu notifications"
              role="menu"
              aria-labelledby="dLabel"
            >
              <div class="notification-heading dropdown-item">
                <h4 class="menu-title">Notificaciones</h4>
              </div>
              <li class="divider"></li>
              <div class="notifications-wrapper">
                <div
                  class="content"
                  *ngFor="
                    let Notificacion of Notificaciones
                      | ordenarNotificacionesFecha
                  "
                >
                  <div class="notification-item">
                    <div class="item-title">
                      <div>{{ Notificacion.ESTADO }}</div>
                      <button
                        type="button"
                        class="close"
                        (click)="eliminarNotificacion(Notificacion.ID_PROCESO)"
                      >
                        <span
                          style="
                            font-size: 15px;
                            color: black;
                            background-color: transparent;
                          "
                          >&times;</span
                        >
                      </button>
                    </div>

                    <div class="item-info">
                      {{ Notificacion.INTERFAZ }}
                    </div>
                    <div class="item-info">
                      {{ Notificacion.FECHA_ACTUALIZACION | date: "medium" }}
                    </div>
                  </div>
                </div>
              </div>
              <li class="divider"></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- ESTILO AZUL -->
      <div class="container-fluid" *ngIf="estiloAzul()">
        <button
          (click)="toggle()"
          type="button"
          id="siderCollapse"
          class="btn btn-light col-1"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="alineadoTextoIzquierdaAzul col-5">
          <div id="tabla">
            <div class="A"><img src="assets/icons/nav/auditoria.svg" /></div>
            <div class="B">
              <p>
                <a
                  style="cursor: pointer"
                  *ngFor="let ruta of arrayRuta(); index as i"
                  (click)="irRutaDeStringRuta(i)"
                  >{{ ruta }}/</a
                >
              </p>
            </div>
          </div>
        </div>
        <div
          class="
            alineadoTextoDerechaAzul
            col-3
            align-self-end
            texto-responsivo-usuario
          "
        >
          <div class="centrado">
            <strong
              ><b
                >{{ DataUser.attributes.given_name }}
                {{ DataUser.attributes.family_name }}</b
              ></strong
            >
            <div class="linea-azul"></div>
            <p *ngIf="usuario.validarRolUsuario()">
              {{ obtenerArea() }} /
              {{
                DataUser.attributes.hasOwnProperty("custom:rol")
                  ? DataUser.attributes["custom:rol"]
                  : ""
              }}
            </p>
          </div>
        </div>
        <div class="col-2">
          <div
            style="background-color: #0091da"
            class="cuadroNotificaciones dropdown"
            id="dLabel"
            role="button"
            data-toggle="dropdown"
            data-target="#"
          >
            <img class="imagenNotificaciones" src="assets/icons/bell.png" />
            <span style="color: #0091da" *ngIf="Notificaciones.length > 0">{{
              Notificaciones.length
            }}</span>

            <ul
              class="dropdown-menu notifications"
              role="menu"
              aria-labelledby="dLabel"
            >
              <div class="notification-heading dropdown-item">
                <h4 class="menu-title">Notificaciones</h4>
              </div>
              <li class="divider"></li>
              <div class="notifications-wrapper">
                <div
                  class="content"
                  *ngFor="
                    let Notificacion of Notificaciones
                      | ordenarNotificacionesFecha
                  "
                >
                  <div class="notification-item">
                    <div class="item-title">
                      <div>{{ Notificacion.ESTADO }}</div>
                      <button
                        type="button"
                        class="close"
                        (click)="eliminarNotificacion(Notificacion.ID_PROCESO)"
                      >
                        <span
                          style="
                            font-size: 15px;
                            color: black;
                            background-color: transparent;
                          "
                          >&times;</span
                        >
                      </button>
                    </div>

                    <div class="item-info">
                      {{ Notificacion.INTERFAZ }}
                    </div>
                    <div class="item-info">
                      {{ Notificacion.FECHA_ACTUALIZACION | date: "medium" }}
                    </div>
                  </div>
                </div>
              </div>
              <li class="divider"></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- ESTILO MORADO -->
      <div class="container-fluid" *ngIf="estiloMorado()">
        <button
          (click)="toggle()"
          type="button"
          id="siderCollapse"
          class="btn btn-light col-1"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="alineadoTextoIzquierdaMorado col-5">
          <div id="tabla">
            <div class="A"><img src="assets/icons/nav/procesos.svg" /></div>
            <div class="B">
              <p>
                <a
                  style="cursor: pointer"
                  *ngFor="let ruta of arrayRuta(); index as i"
                  (click)="irRutaDeStringRuta(i)"
                  >{{ ruta }}/</a
                >
              </p>
            </div>
          </div>
        </div>
        <div
          class="
            alineadoTextoDerechaMorado
            col-3
            align-self-end
            texto-responsivo-usuario
          "
        >
          <div class="centrado">
            <strong
              ><b
                >{{ DataUser.attributes.given_name }}
                {{ DataUser.attributes.family_name }}</b
              ></strong
            >
            <div class="linea-morado"></div>
            <p *ngIf="usuario.validarRolUsuario()">
              {{ obtenerArea() }} /
              {{
                DataUser.attributes.hasOwnProperty("custom:rol")
                  ? DataUser.attributes["custom:rol"]
                  : ""
              }}
            </p>
          </div>
        </div>
        <div class="col-2">
          <div
            style="background-color: #7c69c3"
            class="cuadroNotificaciones dropdown"
            id="dLabel"
            role="button"
            data-toggle="dropdown"
            data-target="#"
          >
            <img class="imagenNotificaciones" src="assets/icons/bell.png" />
            <span style="color: #7c69c3" *ngIf="Notificaciones.length > 0">{{
              Notificaciones.length
            }}</span>

            <ul
              class="dropdown-menu notifications"
              role="menu"
              aria-labelledby="dLabel"
            >
              <div class="notification-heading dropdown-item">
                <h4 class="menu-title">Notificaciones</h4>
              </div>
              <li class="divider"></li>
              <div class="notifications-wrapper">
                <div
                  class="content"
                  *ngFor="
                    let Notificacion of Notificaciones
                      | ordenarNotificacionesFecha
                  "
                >
                  <div class="notification-item">
                    <div class="item-title">
                      <div>{{ Notificacion.ESTADO }}</div>
                      <button
                        type="button"
                        class="close"
                        (click)="eliminarNotificacion(Notificacion.ID_PROCESO)"
                      >
                        <span
                          style="
                            font-size: 15px;
                            color: black;
                            background-color: transparent;
                          "
                          >&times;</span
                        >
                      </button>
                    </div>

                    <div class="item-info">
                      {{ Notificacion.INTERFAZ }}
                    </div>
                    <div class="item-info">
                      {{ Notificacion.FECHA_ACTUALIZACION | date: "medium" }}
                    </div>
                  </div>
                </div>
              </div>
              <li class="divider"></li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <div class="margin-principal">
      <router-outlet></router-outlet>
    </div>
  </div>
  <!-- FIN -->
</div>
